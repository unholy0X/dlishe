basePath: /api/v1
definitions:
  github_com_dlishe_backend_internal_model.AppliedFilters:
    properties:
      appliedCuisine:
        type: string
      appliedDiet:
        type: string
      appliedExclusions:
        items:
          type: string
        type: array
      appliedMaxTime:
        type: integer
      appliedMealType:
        type: string
      appliedMood:
        type: string
      nutritionFilters:
        $ref: '#/definitions/github_com_dlishe_backend_internal_model.NutritionFilters'
    type: object
  github_com_dlishe_backend_internal_model.DietaryInfo:
    properties:
      allergens:
        description: e.g., ["gluten", "dairy", "nuts"]
        items:
          type: string
        type: array
      isDairyFree:
        type: boolean
      isGlutenFree:
        type: boolean
      isHalal:
        type: boolean
      isKeto:
        type: boolean
      isKosher:
        type: boolean
      isNutFree:
        type: boolean
      isVegan:
        type: boolean
      isVegetarian:
        type: boolean
      mealTypes:
        description: e.g., ["breakfast", "lunch", "dinner"]
        items:
          type: string
        type: array
    type: object
  github_com_dlishe_backend_internal_model.IngredientMatch:
    properties:
      isSubstitute:
        description: true if pantry item is a substitute
        type: boolean
      pantryItem:
        description: matched item from pantry
        type: string
      recipeIngredient:
        description: ingredient name in recipe
        type: string
      substituteRatio:
        description: e.g., "1 tsp dried = 1 tbsp fresh"
        type: string
    type: object
  github_com_dlishe_backend_internal_model.MissingIngredient:
    properties:
      canSkip:
        description: true if optional
        type: boolean
      category:
        description: ingredient category for shopping
        type: string
      ingredient:
        description: ingredient name
        type: string
      substitutes:
        description: possible substitutes
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.SubstituteSuggestion'
        type: array
    type: object
  github_com_dlishe_backend_internal_model.NutritionFilters:
    properties:
      maxCalories:
        type: integer
      maxCarbs:
        type: integer
      maxFat:
        type: integer
      minProtein:
        type: integer
    type: object
  github_com_dlishe_backend_internal_model.Recipe:
    properties:
      cookTime:
        description: minutes
        type: integer
      createdAt:
        type: string
      cuisine:
        type: string
      description:
        type: string
      dietaryInfo:
        allOf:
        - $ref: '#/definitions/github_com_dlishe_backend_internal_model.DietaryInfo'
        description: Dietary flags for filtering
      difficulty:
        description: easy, medium, hard
        type: string
      id:
        type: string
      ingredientCount:
        description: Computed fields (for list views without loading full relations)
        type: integer
      ingredients:
        description: Related data (not stored in recipes table, loaded on GetByID)
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeIngredient'
        type: array
      isFavorite:
        type: boolean
      isPublic:
        description: Public/suggested recipes visible to all users
        type: boolean
      nutrition:
        allOf:
        - $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeNutrition'
        description: Nutritional info per serving
      prepTime:
        description: minutes
        type: integer
      servings:
        type: integer
      sourceMetadata:
        additionalProperties: {}
        type: object
      sourceRecipeId:
        description: ID of original recipe if cloned
        type: string
      sourceType:
        description: manual, video, ai, photo, cloned
        type: string
      sourceUrl:
        type: string
      stepCount:
        type: integer
      steps:
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeStep'
        type: array
      syncVersion:
        type: integer
      tags:
        items:
          type: string
        type: array
      thumbnailUrl:
        type: string
      title:
        type: string
      updatedAt:
        type: string
      userId:
        type: string
    type: object
  github_com_dlishe_backend_internal_model.RecipeIngredient:
    properties:
      category:
        description: dairy, produce, proteins, etc.
        type: string
      createdAt:
        type: string
      id:
        type: string
      isOptional:
        type: boolean
      name:
        type: string
      notes:
        type: string
      quantity:
        type: number
      recipeId:
        type: string
      section:
        description: e.g. "Dough", "Sauce", "Main"
        type: string
      sortOrder:
        type: integer
      unit:
        type: string
      videoTimestamp:
        description: seconds
        type: integer
    type: object
  github_com_dlishe_backend_internal_model.RecipeNutrition:
    properties:
      calories:
        description: kcal per serving
        type: integer
      carbs:
        description: grams
        type: integer
      confidence:
        description: AI confidence score 0-1
        type: number
      fat:
        description: grams
        type: integer
      fiber:
        description: grams
        type: integer
      protein:
        description: grams
        type: integer
      sodium:
        description: mg
        type: integer
      sugar:
        description: grams
        type: integer
      tags:
        description: e.g., "high-protein", "low-carb", "keto-friendly"
        items:
          type: string
        type: array
    type: object
  github_com_dlishe_backend_internal_model.RecipeQuickInfo:
    properties:
      id:
        type: string
      title:
        type: string
      value:
        description: the relevant metric (time, protein, match score)
        type: integer
      valueUnit:
        description: e.g., "min", "g", "%"
        type: string
    type: object
  github_com_dlishe_backend_internal_model.RecipeRecommendation:
    properties:
      filtersMatched:
        description: Filter match metadata - helps frontend display/sort recommendations
        items:
          type: string
        type: array
      filtersNotMatched:
        description: filters this recipe doesn't match
        items:
          type: string
        type: array
      filtersUnknown:
        description: filters where recipe has no data
        items:
          type: string
        type: array
      matchScore:
        description: 0-100 percentage
        type: integer
      matchedIngredients:
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.IngredientMatch'
        type: array
      missingIngredients:
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.MissingIngredient'
        type: array
      nutritionPerServing:
        allOf:
        - $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeNutrition'
        description: estimated nutrition
      reason:
        description: why this was recommended
        type: string
      recipe:
        $ref: '#/definitions/github_com_dlishe_backend_internal_model.Recipe'
      shoppingListItems:
        description: items to buy
        items:
          type: string
        type: array
    type: object
  github_com_dlishe_backend_internal_model.RecipeStep:
    properties:
      createdAt:
        type: string
      durationSeconds:
        type: integer
      id:
        type: string
      instruction:
        type: string
      recipeId:
        type: string
      stepNumber:
        type: integer
      technique:
        type: string
      temperature:
        type: string
      videoTimestampEnd:
        type: integer
      videoTimestampStart:
        type: integer
    type: object
  github_com_dlishe_backend_internal_model.RecommendationResponse:
    properties:
      almostReady:
        description: 70-89% match
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeRecommendation'
        type: array
      filters:
        allOf:
        - $ref: '#/definitions/github_com_dlishe_backend_internal_model.AppliedFilters'
        description: Applied filters info
      needsShopping:
        description: 50-69% match
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeRecommendation'
        type: array
      readyToCook:
        description: Categorized recommendations
        items:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeRecommendation'
        type: array
      summary:
        allOf:
        - $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecommendationSummary'
        description: Summary statistics
    type: object
  github_com_dlishe_backend_internal_model.RecommendationSummary:
    properties:
      avgCaloriesPerServing:
        type: integer
      bestMatch:
        $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeQuickInfo'
      highestProtein:
        $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeQuickInfo'
      message:
        type: string
      quickestRecipe:
        $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecipeQuickInfo'
      totalRecipes:
        type: integer
    type: object
  github_com_dlishe_backend_internal_model.SmartMergeRequest:
    properties:
      sourceListIds:
        items:
          type: string
        type: array
    type: object
  github_com_dlishe_backend_internal_model.SubstituteSuggestion:
    properties:
      item:
        description: substitute item name
        type: string
      notes:
        description: any notes about the substitution
        type: string
      ratio:
        description: substitution ratio
        type: string
      source:
        description: '"pantry" or "common"'
        type: string
    type: object
  internal_handler.Limits:
    properties:
      maxRecipes:
        type: integer
      maxShoppingLists:
        type: integer
      multiDeviceSync:
        type: boolean
      pantryScans:
        type: integer
      recipeSharing:
        type: boolean
      videoExtractions:
        type: integer
    type: object
  internal_handler.SubscriptionResponse:
    properties:
      cancelledAt:
        type: string
      entitlement:
        type: string
      expiresAt:
        type: string
      hasBillingIssue:
        type: boolean
      isActive:
        type: boolean
      isSandbox:
        type: boolean
      lastSyncedAt:
        type: string
      limits:
        $ref: '#/definitions/internal_handler.Limits'
      periodType:
        type: string
      productId:
        type: string
      purchasedAt:
        type: string
      store:
        type: string
      willRenew:
        type: boolean
    type: object
  internal_handler.SwaggerAddFromRecipeRequest:
    description: Add ingredients from recipe to shopping list
    properties:
      ingredients:
        example:
        - flour
        - sugar
        - eggs
        items:
          type: string
        type: array
      recipeId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    required:
    - recipeId
    type: object
  internal_handler.SwaggerAddFromRecipeResponse:
    description: Added items from recipe
    properties:
      count:
        example: 8
        type: integer
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        type: array
    type: object
  internal_handler.SwaggerConflict:
    description: Sync conflict details
    properties:
      reason:
        example: Server version is newer
        type: string
      resolution:
        enum:
        - server_wins
        - client_wins
        - merged
        example: server_wins
        type: string
      resourceId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      resourceType:
        enum:
        - recipe
        - pantry_item
        - shopping_list
        - shopping_item
        example: recipe
        type: string
    type: object
  internal_handler.SwaggerError:
    properties:
      code:
        example: VALIDATION_FAILED
        type: string
      details:
        additionalProperties: true
        type: object
      message:
        example: Validation failed
        type: string
      requestId:
        example: req-abc123
        type: string
      timestamp:
        example: "2024-02-01T10:30:00Z"
        type: string
    type: object
  internal_handler.SwaggerErrorResponse:
    description: Standard error response format
    properties:
      error:
        $ref: '#/definitions/internal_handler.SwaggerError'
    type: object
  internal_handler.SwaggerFavoriteRequest:
    description: Toggle favorite request
    properties:
      isFavorite:
        example: true
        type: boolean
    type: object
  internal_handler.SwaggerFavoriteResponse:
    description: Toggle favorite response
    properties:
      isFavorite:
        example: true
        type: boolean
      success:
        example: true
        type: boolean
    type: object
  internal_handler.SwaggerHealthResponse:
    description: Health check response
    properties:
      status:
        example: ok
        type: string
      timestamp:
        example: "2024-02-01T10:30:00Z"
        type: string
    type: object
  internal_handler.SwaggerInfoResponse:
    description: API information response
    properties:
      environment:
        example: development
        type: string
      features:
        additionalProperties:
          type: boolean
        example:
          ai_generation: true
          sync: true
          video_extraction: true
        type: object
      name:
        example: DLISHE API
        type: string
      version:
        example: 1.0.0
        type: string
    type: object
  internal_handler.SwaggerJobError:
    description: Job error information
    properties:
      code:
        example: DOWNLOAD_FAILED
        type: string
      message:
        example: Failed to download video
        type: string
      retryable:
        example: true
        type: boolean
    type: object
  internal_handler.SwaggerJobResponse:
    description: Recipe extraction job status
    properties:
      completedAt:
        example: "2024-02-01T10:31:30Z"
        type: string
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      error:
        $ref: '#/definitions/internal_handler.SwaggerJobError'
      estimatedSeconds:
        example: 15
        type: integer
      jobId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      jobType:
        enum:
        - url
        - image
        - video
        example: url
        type: string
      message:
        example: Extracting recipe...
        type: string
      progress:
        example: 45
        type: integer
      recipe:
        $ref: '#/definitions/internal_handler.SwaggerRecipe'
      sourceUrl:
        example: https://example.com/recipe
        type: string
      status:
        enum:
        - pending
        - downloading
        - processing
        - extracting
        - completed
        - failed
        - cancelled
        example: processing
        type: string
      statusUrl:
        example: /api/v1/jobs/550e8400-e29b-41d4-a716-446655440000
        type: string
      streamUrl:
        example: /api/v1/jobs/550e8400-e29b-41d4-a716-446655440000/stream
        type: string
    type: object
  internal_handler.SwaggerMeResponse:
    description: Current user with subscription info
    properties:
      subscription:
        $ref: '#/definitions/internal_handler.SwaggerSubscriptionResponse'
      user:
        $ref: '#/definitions/internal_handler.SwaggerUserResponse'
    type: object
  internal_handler.SwaggerPantryItem:
    description: Pantry inventory item
    properties:
      category:
        enum:
        - dairy
        - produce
        - proteins
        - bakery
        - pantry
        - spices
        - condiments
        - beverages
        - snacks
        - frozen
        - household
        - other
        example: condiments
        type: string
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      expirationDate:
        example: "2024-06-01T00:00:00Z"
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      name:
        example: Olive Oil
        type: string
      quantity:
        example: 500
        type: number
      syncVersion:
        example: 1
        type: integer
      unit:
        example: ml
        type: string
      updatedAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      userId:
        example: 550e8400-e29b-41d4-a716-446655440099
        type: string
    type: object
  internal_handler.SwaggerPantryItemInput:
    description: Pantry item input for create/update
    properties:
      category:
        enum:
        - dairy
        - produce
        - proteins
        - bakery
        - pantry
        - spices
        - condiments
        - beverages
        - snacks
        - frozen
        - household
        - other
        example: condiments
        type: string
      expirationDate:
        example: "2024-06-01T00:00:00Z"
        type: string
      name:
        example: Olive Oil
        type: string
      quantity:
        example: 500
        type: number
      unit:
        example: ml
        type: string
    required:
    - category
    - name
    type: object
  internal_handler.SwaggerPantryListResponse:
    description: Paginated list of pantry items
    properties:
      count:
        example: 20
        type: integer
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        type: array
      limit:
        example: 100
        type: integer
      offset:
        example: 0
        type: integer
      total:
        example: 50
        type: integer
    type: object
  internal_handler.SwaggerPantryScanRequest:
    description: AI pantry scan request
    properties:
      autoAdd:
        example: false
        type: boolean
      imageBase64:
        example: /9j/4AAQSkZJRgABAQ...
        type: string
      mimeType:
        example: image/jpeg
        type: string
    required:
    - imageBase64
    type: object
  internal_handler.SwaggerReadyResponse:
    description: Readiness check response with service status
    properties:
      checks:
        additionalProperties:
          type: string
        example:
          gemini: ok
          postgres: ok
          redis: ok
        type: object
      status:
        enum:
        - ready
        - not_ready
        example: ready
        type: string
      timestamp:
        example: "2024-02-01T10:30:00Z"
        type: string
    type: object
  internal_handler.SwaggerRecipe:
    description: Full recipe with ingredients, steps, nutrition, and dietary information
    properties:
      cookTime:
        example: 25
        type: integer
      createdAt:
        example: "2026-02-02T19:30:10.803252Z"
        type: string
      cuisine:
        example: Indian/Jewish Fusion
        type: string
      description:
        example: A creative twist on the traditional latke by incorporating the flavors
          of an Indian samosa
        type: string
      dietaryInfo:
        $ref: '#/definitions/internal_handler.SwaggerRecipeDietaryInfo'
      difficulty:
        enum:
        - Easy
        - Medium
        - Hard
        example: Medium
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      ingredientCount:
        example: 14
        type: integer
      ingredients:
        items:
          $ref: '#/definitions/internal_handler.SwaggerRecipeIngredient'
        type: array
      isFavorite:
        example: false
        type: boolean
      isPublic:
        example: false
        type: boolean
      nutrition:
        $ref: '#/definitions/internal_handler.SwaggerRecipeNutritionInfo'
      prepTime:
        example: 20
        type: integer
      servings:
        example: 4
        type: integer
      sourceRecipeId:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      sourceType:
        enum:
        - manual
        - video
        - ai
        - photo
        - webpage
        - image
        - cloned
        example: video
        type: string
      sourceUrl:
        example: https://www.tiktok.com/@eitan/video/7582674293838908703
        type: string
      stepCount:
        example: 9
        type: integer
      steps:
        items:
          $ref: '#/definitions/internal_handler.SwaggerRecipeStep'
        type: array
      syncVersion:
        example: 0
        type: integer
      tags:
        example:
        - latkes
        - samosa
        - Indian
        - Hanukkah
        - fusion
        - potato
        - fried
        items:
          type: string
        type: array
      thumbnailUrl:
        example: https://example.com/thumb.jpg
        type: string
      title:
        example: Indian Samosa Latkes
        type: string
      updatedAt:
        example: "2026-02-02T19:30:10.803252Z"
        type: string
      userId:
        example: 550e8400-e29b-41d4-a716-446655440099
        type: string
    type: object
  internal_handler.SwaggerRecipeDietaryInfo:
    description: Dietary flags and allergen information for filtering recipes
    properties:
      allergens:
        example:
        - dairy
        - eggs
        - gluten
        items:
          type: string
        type: array
      isDairyFree:
        example: false
        type: boolean
      isGlutenFree:
        example: true
        type: boolean
      isHalal:
        example: false
        type: boolean
      isKeto:
        example: false
        type: boolean
      isKosher:
        example: false
        type: boolean
      isNutFree:
        example: true
        type: boolean
      isVegan:
        example: false
        type: boolean
      isVegetarian:
        example: true
        type: boolean
      mealTypes:
        example:
        - lunch
        - dinner
        - snack
        items:
          type: string
        type: array
    type: object
  internal_handler.SwaggerRecipeIngredient:
    description: Recipe ingredient
    properties:
      category:
        enum:
        - dairy
        - produce
        - proteins
        - bakery
        - pantry
        - spices
        - condiments
        - beverages
        - snacks
        - frozen
        - household
        - other
        example: condiments
        type: string
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      isOptional:
        example: false
        type: boolean
      name:
        example: Olive oil
        type: string
      notes:
        example: extra virgin preferred
        type: string
      quantity:
        example: 2
        type: number
      recipeId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      sortOrder:
        example: 0
        type: integer
      unit:
        example: tablespoons
        type: string
      videoTimestamp:
        example: 120
        type: integer
    type: object
  internal_handler.SwaggerRecipeListResponse:
    description: Paginated list of recipes
    properties:
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerRecipe'
        type: array
      limit:
        example: 20
        type: integer
      offset:
        example: 0
        type: integer
      total:
        example: 25
        type: integer
    type: object
  internal_handler.SwaggerRecipeNutritionInfo:
    description: Nutritional information per serving (AI-estimated)
    properties:
      calories:
        example: 450
        type: integer
      carbs:
        example: 30
        type: integer
      confidence:
        example: 0.75
        type: number
      fat:
        example: 20
        type: integer
      fiber:
        example: 5
        type: integer
      protein:
        example: 25
        type: integer
      sodium:
        example: 600
        type: integer
      sugar:
        example: 8
        type: integer
      tags:
        example:
        - high-protein
        - moderate-carb
        items:
          type: string
        type: array
    type: object
  internal_handler.SwaggerRecipeStep:
    description: Recipe step
    properties:
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      durationSeconds:
        example: 120
        type: integer
      id:
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
      instruction:
        example: Heat olive oil in a large pan over medium heat
        type: string
      recipeId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      stepNumber:
        example: 1
        type: integer
      technique:
        example: sauteing
        type: string
      temperature:
        example: 350F
        type: string
      videoTimestampEnd:
        example: 180
        type: integer
      videoTimestampStart:
        example: 60
        type: integer
    type: object
  internal_handler.SwaggerScanResponse:
    description: AI pantry scan results
    properties:
      addedCount:
        example: 3
        type: integer
      addedIds:
        example:
        - id1
        - id2
        - id3
        items:
          type: string
        type: array
      confidence:
        example: 0.89
        type: number
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerScannedItem'
        type: array
      notes:
        example: Detected items from refrigerator shelf
        type: string
    type: object
  internal_handler.SwaggerScannedItem:
    description: AI-detected pantry item from scan
    properties:
      added:
        example: true
        type: boolean
      addedId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      category:
        example: dairy
        type: string
      confidence:
        example: 0.95
        type: number
      expirationDate:
        example: "2024-02-15"
        type: string
      name:
        example: Milk
        type: string
      quantity:
        example: 1
        type: number
      unit:
        example: gallon
        type: string
    type: object
  internal_handler.SwaggerShoppingItem:
    description: Shopping list item
    properties:
      category:
        example: dairy
        type: string
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      isChecked:
        example: false
        type: boolean
      listId:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      name:
        example: Milk
        type: string
      quantity:
        example: 2
        type: number
      recipeName:
        example: Pancakes
        type: string
      syncVersion:
        example: 1
        type: integer
      unit:
        example: gallons
        type: string
      updatedAt:
        example: "2024-02-01T10:30:00Z"
        type: string
    type: object
  internal_handler.SwaggerShoppingItemInput:
    description: Shopping item input for create/update
    properties:
      category:
        example: dairy
        type: string
      name:
        example: Milk
        type: string
      quantity:
        example: 2
        type: number
      recipeName:
        example: Pancakes
        type: string
      unit:
        example: gallons
        type: string
    required:
    - name
    type: object
  internal_handler.SwaggerShoppingItemsResponse:
    description: List of shopping items
    properties:
      count:
        example: 15
        type: integer
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        type: array
    type: object
  internal_handler.SwaggerShoppingList:
    description: Shopping list
    properties:
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      description:
        example: Shopping for the week
        type: string
      icon:
        example: cart
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      isArchived:
        example: false
        type: boolean
      isTemplate:
        example: false
        type: boolean
      name:
        example: Weekly Groceries
        type: string
      syncVersion:
        example: 1
        type: integer
      updatedAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      userId:
        example: 550e8400-e29b-41d4-a716-446655440099
        type: string
    type: object
  internal_handler.SwaggerShoppingListInput:
    description: Shopping list input for create/update
    properties:
      description:
        example: Shopping for the week
        type: string
      icon:
        example: cart
        type: string
      isTemplate:
        example: false
        type: boolean
      name:
        example: Weekly Groceries
        type: string
    required:
    - name
    type: object
  internal_handler.SwaggerShoppingListWithItems:
    description: Shopping list with items
    properties:
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      description:
        example: Shopping for the week
        type: string
      icon:
        example: cart
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      isArchived:
        example: false
        type: boolean
      isTemplate:
        example: false
        type: boolean
      items:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        type: array
      name:
        example: Weekly Groceries
        type: string
      syncVersion:
        example: 1
        type: integer
      updatedAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      userId:
        example: 550e8400-e29b-41d4-a716-446655440099
        type: string
    type: object
  internal_handler.SwaggerShoppingListsResponse:
    description: List of shopping lists
    properties:
      count:
        example: 3
        type: integer
      lists:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingList'
        type: array
    type: object
  internal_handler.SwaggerSubscriptionResponse:
    description: User subscription details
    properties:
      entitlement:
        example: free
        type: string
      expiresAt:
        example: "2025-02-01T10:30:00Z"
        type: string
    type: object
  internal_handler.SwaggerSyncRequest:
    description: Multi-device sync request
    properties:
      lastSyncTimestamp:
        example: "2024-02-01T10:30:00Z"
        type: string
      pantryItems:
        items:
          $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        type: array
      recipes:
        items:
          $ref: '#/definitions/internal_handler.SwaggerRecipe'
        type: array
      shoppingItems:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        type: array
      shoppingLists:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingList'
        type: array
    required:
    - lastSyncTimestamp
    type: object
  internal_handler.SwaggerSyncResponse:
    description: Multi-device sync response
    properties:
      conflicts:
        items:
          $ref: '#/definitions/internal_handler.SwaggerConflict'
        type: array
      pantryItems:
        items:
          $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        type: array
      recipes:
        items:
          $ref: '#/definitions/internal_handler.SwaggerRecipe'
        type: array
      serverTimestamp:
        example: "2024-02-01T10:35:00Z"
        type: string
      shoppingItems:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        type: array
      shoppingLists:
        items:
          $ref: '#/definitions/internal_handler.SwaggerShoppingList'
        type: array
    type: object
  internal_handler.SwaggerUnifiedExtractRequest:
    description: Unified recipe extraction request (url, image, or video)
    properties:
      detailLevel:
        enum:
        - quick
        - detailed
        example: detailed
        type: string
      imageBase64:
        example: /9j/4AAQSkZJRgABAQ...
        type: string
      language:
        enum:
        - en
        - fr
        - es
        - auto
        example: en
        type: string
      mimeType:
        example: image/jpeg
        type: string
      saveAuto:
        example: true
        type: boolean
      type:
        enum:
        - url
        - image
        - video
        example: url
        type: string
      url:
        example: https://example.com/recipe/carbonara
        type: string
    required:
    - type
    type: object
  internal_handler.SwaggerUserResponse:
    description: User data
    properties:
      createdAt:
        example: "2024-02-01T10:30:00Z"
        type: string
      email:
        example: user@example.com
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      isAnonymous:
        example: false
        type: boolean
      name:
        example: John Doe
        type: string
    type: object
host: api.dlishe.app
info:
  contact:
    email: support@dlishe.app
    name: DLISHE Support
  description: Recipe management API with AI-powered extraction, pantry tracking,
    and shopping lists
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://dlishe.app/terms
  title: DLISHE API
  version: "1.0"
paths:
  /health:
    get:
      description: Basic liveness probe - returns OK if the server is running
      produces:
      - application/json
      responses:
        "200":
          description: Server is healthy
          schema:
            $ref: '#/definitions/internal_handler.SwaggerHealthResponse'
      summary: Health check
      tags:
      - Health
  /info:
    get:
      description: Get API version, environment, and feature flags
      produces:
      - application/json
      responses:
        "200":
          description: API information
          schema:
            $ref: '#/definitions/internal_handler.SwaggerInfoResponse'
      summary: API information
      tags:
      - Health
  /jobs/{jobID}/cancel:
    post:
      description: Cancel a job by ID. Works across distributed instances via Redis
        Pub/Sub.
      parameters:
      - description: Job ID
        in: path
        name: jobID
        required: true
        type: string
      responses:
        "204":
          description: Job cancelled
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Job not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel a running job
      tags:
      - Jobs
  /pantry:
    get:
      description: Get paginated list of user's pantry items with optional category
        filter
      parameters:
      - description: Filter by category
        enum:
        - dairy
        - produce
        - proteins
        - bakery
        - pantry
        - spices
        - condiments
        - beverages
        - snacks
        - frozen
        - household
        - other
        in: query
        name: category
        type: string
      - default: 100
        description: Items per page (max 200)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Pagination offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of pantry items
          schema:
            $ref: '#/definitions/internal_handler.SwaggerPantryListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: List pantry items
      tags:
      - Pantry
    post:
      consumes:
      - application/json
      description: Add a new item to the user's pantry inventory
      parameters:
      - description: Pantry item data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerPantryItemInput'
      produces:
      - application/json
      responses:
        "201":
          description: Pantry item created
          schema:
            $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a pantry item
      tags:
      - Pantry
  /pantry/{id}:
    delete:
      description: Remove an item from the user's pantry
      parameters:
      - description: Pantry item UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: Pantry item deleted
        "400":
          description: Invalid item ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Pantry item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a pantry item
      tags:
      - Pantry
    get:
      description: Get a single pantry item's details
      parameters:
      - description: Pantry item UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pantry item details
          schema:
            $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        "400":
          description: Invalid item ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Pantry item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Get pantry item by ID
      tags:
      - Pantry
    put:
      consumes:
      - application/json
      description: Update an existing pantry item's details
      parameters:
      - description: Pantry item UUID
        in: path
        name: id
        required: true
        type: string
      - description: Updated pantry item data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerPantryItemInput'
      produces:
      - application/json
      responses:
        "200":
          description: Pantry item updated
          schema:
            $ref: '#/definitions/internal_handler.SwaggerPantryItem'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Pantry item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a pantry item
      tags:
      - Pantry
  /pantry/scan:
    post:
      consumes:
      - multipart/form-data
      - application/json
      description: Scan image to detect and optionally add pantry items using AI
      parameters:
      - description: Image file (multipart)
        in: formData
        name: image
        type: file
      - default: false
        description: Auto-add detected items
        in: formData
        name: autoAdd
        type: boolean
      - description: JSON with base64 image
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handler.SwaggerPantryScanRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Scan results
          schema:
            $ref: '#/definitions/internal_handler.SwaggerScanResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "422":
          description: Scan failed
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "429":
          description: Rate limit exceeded
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "503":
          description: Service unavailable
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: AI-powered pantry scan
      tags:
      - Pantry
  /ready:
    get:
      description: Readiness probe - checks database and cache connectivity
      produces:
      - application/json
      responses:
        "200":
          description: All services ready
          schema:
            $ref: '#/definitions/internal_handler.SwaggerReadyResponse'
        "503":
          description: One or more services not ready
          schema:
            $ref: '#/definitions/internal_handler.SwaggerReadyResponse'
      summary: Readiness check
      tags:
      - Health
  /recipes:
    get:
      description: Get paginated list of user's recipes
      parameters:
      - default: 20
        description: Items per page (max 50)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Pagination offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of recipes
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipeListResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's recipes
      tags:
      - Recipes
    post:
      consumes:
      - application/json
      description: Create a new recipe with ingredients and steps
      parameters:
      - description: Recipe data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerRecipe'
      produces:
      - application/json
      responses:
        "201":
          description: Recipe created successfully
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipe'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new recipe
      tags:
      - Recipes
  /recipes/{recipeID}:
    delete:
      description: Soft delete a recipe (can be recovered)
      parameters:
      - description: Recipe UUID
        in: path
        name: recipeID
        required: true
        type: string
      responses:
        "204":
          description: Recipe deleted successfully
        "400":
          description: Invalid recipe ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a recipe
      tags:
      - Recipes
    get:
      description: Get full recipe details including ingredients and steps
      parameters:
      - description: Recipe UUID
        in: path
        name: recipeID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Recipe details
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipe'
        "400":
          description: Invalid recipe ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Get recipe by ID
      tags:
      - Recipes
    put:
      consumes:
      - application/json
      description: Update an existing recipe's details, ingredients, and steps
      parameters:
      - description: Recipe UUID
        in: path
        name: recipeID
        required: true
        type: string
      - description: Updated recipe data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerRecipe'
      produces:
      - application/json
      responses:
        "200":
          description: Recipe updated successfully
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipe'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a recipe
      tags:
      - Recipes
  /recipes/{recipeID}/favorite:
    post:
      consumes:
      - application/json
      description: Mark or unmark a recipe as favorite
      parameters:
      - description: Recipe UUID
        in: path
        name: recipeID
        required: true
        type: string
      - description: Favorite status
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerFavoriteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Favorite status updated
          schema:
            $ref: '#/definitions/internal_handler.SwaggerFavoriteResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Toggle recipe favorite status
      tags:
      - Recipes
  /recipes/{recipeID}/save:
    post:
      description: Clone a recipe to the current user's collection. Works with own
        recipes, shared recipes, or public recipes.
      parameters:
      - description: Source Recipe UUID
        in: path
        name: recipeID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Cloned recipe
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipe'
        "400":
          description: Invalid recipe ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Access denied - cannot view source recipe
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "409":
          description: Recipe already cloned
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Save/clone a recipe
      tags:
      - Recipes
  /recipes/extract:
    post:
      consumes:
      - multipart/form-data
      - application/json
      description: Extract a recipe from URL, image, or video using AI. Returns a
        job ID for async processing.
      parameters:
      - description: Extraction type
        enum:
        - url
        - image
        - video
        in: formData
        name: type
        required: true
        type: string
      - description: URL for url/video extraction
        in: formData
        name: url
        type: string
      - description: Image file for image extraction (multipart)
        in: formData
        name: image
        type: file
      - description: Language hint
        enum:
        - en
        - fr
        - es
        - auto
        in: formData
        name: language
        type: string
      - description: Detail level
        enum:
        - quick
        - detailed
        in: formData
        name: detailLevel
        type: string
      - default: true
        description: Auto-save extracted recipe
        in: formData
        name: saveAuto
        type: boolean
      - description: JSON request body
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_handler.SwaggerUnifiedExtractRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Job created
          schema:
            $ref: '#/definitions/internal_handler.SwaggerJobResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "429":
          description: Rate limit exceeded
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "503":
          description: Service unavailable
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Extract recipe (unified)
      tags:
      - Recipes
  /recipes/recommendations:
    get:
      consumes:
      - application/json
      description: Get personalized recipe recommendations based on pantry items with
        dietary and nutrition filters
      parameters:
      - description: Filter by meal type
        enum:
        - breakfast
        - lunch
        - dinner
        - snack
        - dessert
        in: query
        name: mealType
        type: string
      - description: Maximum total time in minutes
        in: query
        name: maxTime
        type: integer
      - description: Filter by cuisine (e.g., italian, asian, mexican)
        in: query
        name: cuisine
        type: string
      - description: Mood filter
        enum:
        - quick
        - comfort
        - healthy
        - indulgent
        in: query
        name: mood
        type: string
      - description: Dietary restriction
        enum:
        - vegetarian
        - vegan
        - keto
        - halal
        - kosher
        - pescatarian
        - paleo
        in: query
        name: diet
        type: string
      - collectionFormat: csv
        description: Allergens/ingredients to exclude (e.g., gluten, dairy, nuts)
        in: query
        items:
          type: string
        name: exclude
        type: array
      - description: Maximum calories per serving
        in: query
        name: maxCalories
        type: integer
      - description: Minimum protein grams per serving
        in: query
        name: minProtein
        type: integer
      - description: Maximum carbs grams per serving
        in: query
        name: maxCarbs
        type: integer
      - description: Maximum fat grams per serving
        in: query
        name: maxFat
        type: integer
      - description: 'Minimum ingredient match percentage (default: 50)'
        in: query
        name: minMatch
        type: integer
      - description: 'Max results per category (default: 10)'
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Recipe recommendations
          schema:
            $ref: '#/definitions/github_com_dlishe_backend_internal_model.RecommendationResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Get recipe recommendations
      tags:
      - Recipes
  /recipes/suggested:
    get:
      description: Get paginated list of curated public recipes available to all users
      parameters:
      - default: 20
        description: Items per page (max 50)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Pagination offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of suggested recipes
          schema:
            $ref: '#/definitions/internal_handler.SwaggerRecipeListResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      summary: List suggested/public recipes
      tags:
      - Recipes
  /shopping-lists:
    get:
      description: Get all shopping lists for the current user
      parameters:
      - default: false
        description: Include archived lists
        in: query
        name: includeArchived
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: List of shopping lists
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingListsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: List shopping lists
      tags:
      - Shopping
    post:
      consumes:
      - application/json
      description: Create a new shopping list
      parameters:
      - description: Shopping list data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerShoppingListInput'
      produces:
      - application/json
      responses:
        "201":
          description: Shopping list created
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingList'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a shopping list
      tags:
      - Shopping
  /shopping-lists/{id}:
    delete:
      description: Delete a shopping list and all its items
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: Shopping list deleted
        "400":
          description: Invalid list ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a shopping list
      tags:
      - Shopping
    get:
      description: Get a shopping list with optional items
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - default: false
        description: Include list items
        in: query
        name: includeItems
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: Shopping list details
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingListWithItems'
        "400":
          description: Invalid list ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Get shopping list by ID
      tags:
      - Shopping
    put:
      consumes:
      - application/json
      description: Update an existing shopping list's details
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Updated list data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerShoppingListInput'
      produces:
      - application/json
      responses:
        "200":
          description: Shopping list updated
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingList'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a shopping list
      tags:
      - Shopping
  /shopping-lists/{id}/add-from-recipe:
    post:
      consumes:
      - application/json
      description: Add all or selected ingredients from a recipe to the shopping list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Recipe and optional ingredient filter
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerAddFromRecipeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Added items
          schema:
            $ref: '#/definitions/internal_handler.SwaggerAddFromRecipeResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list or recipe not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "409":
          description: Recipe already added
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Add recipe ingredients to shopping list
      tags:
      - Shopping
  /shopping-lists/{id}/archive:
    post:
      description: Mark a shopping list as archived
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: Shopping list archived
        "400":
          description: Invalid list ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Archive a shopping list
      tags:
      - Shopping
  /shopping-lists/{id}/complete:
    post:
      description: Mark all items as checked and archive the list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: Shopping list completed
        "400":
          description: Invalid list ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Complete a shopping list
      tags:
      - Shopping
  /shopping-lists/{id}/items:
    get:
      description: Get all items in a shopping list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of items
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingItemsResponse'
        "400":
          description: Invalid list ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: List shopping list items
      tags:
      - Shopping
    post:
      consumes:
      - application/json
      description: Add a new item to a shopping list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Item data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItemInput'
      produces:
      - application/json
      responses:
        "201":
          description: Item created
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Add item to shopping list
      tags:
      - Shopping
  /shopping-lists/{id}/items/{itemId}:
    delete:
      description: Remove an item from a shopping list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Shopping item UUID
        in: path
        name: itemId
        required: true
        type: string
      responses:
        "204":
          description: Item deleted
        "400":
          description: Invalid ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list or item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a shopping item
      tags:
      - Shopping
    put:
      consumes:
      - application/json
      description: Update an existing item in a shopping list
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Shopping item UUID
        in: path
        name: itemId
        required: true
        type: string
      - description: Updated item data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerShoppingItemInput'
      produces:
      - application/json
      responses:
        "200":
          description: Item updated
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list or item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a shopping item
      tags:
      - Shopping
  /shopping-lists/{id}/items/{itemId}/check:
    post:
      description: Mark or unmark a shopping item as checked
      parameters:
      - description: Shopping list UUID
        in: path
        name: id
        required: true
        type: string
      - description: Shopping item UUID
        in: path
        name: itemId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Item with updated checked status
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingItem'
        "400":
          description: Invalid ID
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "404":
          description: Shopping list or item not found
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Toggle item checked status
      tags:
      - Shopping
  /shopping-lists/smart-merge:
    post:
      consumes:
      - application/json
      description: Uses AI to merge duplicates, normalize units, and categorize items
        from multiple lists into a NEW list
      parameters:
      - description: Source list IDs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_dlishe_backend_internal_model.SmartMergeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: New merged list
          schema:
            $ref: '#/definitions/internal_handler.SwaggerShoppingListWithItems'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "403":
          description: Forbidden (Access denied to some lists)
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Smart merge multiple shopping lists using AI
      tags:
      - Shopping
  /subscription:
    get:
      description: Returns the authenticated user's subscription status and feature
        limits
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handler.SubscriptionResponse'
        "401":
          description: Unauthorized
      security:
      - BearerAuth: []
      summary: Get current subscription status
      tags:
      - Subscription
  /subscription/refresh:
    post:
      description: Fetches the latest subscription state from RevenueCat API and updates
        local cache
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_handler.SubscriptionResponse'
        "401":
          description: Unauthorized
        "503":
          description: RevenueCat unavailable
      security:
      - BearerAuth: []
      summary: Refresh subscription from RevenueCat
      tags:
      - Subscription
  /sync:
    post:
      consumes:
      - application/json
      description: Synchronize recipes, pantry items, and shopping lists between devices
      parameters:
      - description: Sync payload with local changes
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_handler.SwaggerSyncRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Server changes and conflict resolutions
          schema:
            $ref: '#/definitions/internal_handler.SwaggerSyncResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Sync data across devices
      tags:
      - Sync
  /users/me:
    get:
      description: Get current authenticated user's profile and subscription
      produces:
      - application/json
      responses:
        "200":
          description: User profile
          schema:
            $ref: '#/definitions/internal_handler.SwaggerMeResponse'
        "401":
          description: Not authenticated
          schema:
            $ref: '#/definitions/internal_handler.SwaggerErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user
      tags:
      - Auth
  /webhooks/revenuecat:
    post:
      consumes:
      - application/json
      description: Receives subscription updates from RevenueCat
      produces:
      - application/json
      responses:
        "200":
          description: Webhook processed
        "401":
          description: Unauthorized
        "500":
          description: Internal Server Error
      summary: Handle RevenueCat webhook
      tags:
      - Webhooks
securityDefinitions:
  BearerAuth:
    description: 'Enter: Bearer {your_token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: Authentication endpoints (register, login, token refresh)
  name: Auth
- description: Recipe CRUD and AI extraction
  name: Recipes
- description: Pantry inventory management and AI scanning
  name: Pantry
- description: Shopping list management
  name: Shopping
- description: Video extraction job tracking
  name: Jobs
- description: Multi-device synchronization
  name: Sync
- description: Health check and API info endpoints
  name: Health
